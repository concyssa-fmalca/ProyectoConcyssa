@model List<string>
@{
    ViewBag.Title = "Listado";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    body {
        font-family: Arial;
    }

    .huser-20 {
        height: 20px;
    }

    #global {
        height: 500px;
        border: 1px solid #ddd;
        background: #f1f1f1;
        overflow-y: scroll;
        margin-left: 25px;
    }

    #mensajes {
        height: auto;
    }

    /* Style the tab */
    .tab {
        overflow: hidden;
        border: 1px solid #bcecf1;
        background-color: #effafc;
    }

        /* Style the buttons inside the tab */
        .tab button {
            background-color: inherit;
            float: left;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 8px 16px;
            transition: 0.3s;
            font-size: 17px;
        }

            /* Change background color of buttons on hover */
            .tab button:hover {
                background-color: #baecf5;
            }

            /* Create an active/current tablink class */
            .tab button.active {
                background-color: #baecf5;
            }

    /* Style the tab content */
    .tabcontent {
        display: none;
        padding: 6px 12px;
        border: 1px solid #ccc;
        border-top: none;
    }
</style>

<div class="container-fluid" style="height:93%;">
    <div class="panel">
        <div class="container-fluid">
            <div class="topbar-left col-xs-6">
                <h3>Atención de Devolución Administrativa</h3>
            </div>
        </div>
        <div class="container-fluid">
            <div class="col-xs-6">
                <div class="topbar-left col-xs-6">
                    @*                    <h4 style="font-size:1.2em;">Total de Registros: <span id="spnTotalRegistros"></span></h4>*@
                    <br />
                </div>
            </div>
            <div class="col-xs-6 right">
                <a id="reporteRPT" style="display:none" download="" href="data:application/octet-stream;base64,R0lGODdhAQABAPAAAP8AAAAAACwAAAAAAQABAAACAkQBADs=">download image</a>
            </div>
            <div class="col-xs-12 right">
                <label class="col-sm-2" for="cboObraFiltro">Base</label>
                <div class="col-sm-3">
                    <select class="form-control" id="cboObraFiltro"></select>
                </div>
            </div>
            <div class="col-xs-12 right">
                <label class="col-sm-2" for="txtFechaInicio">Fecha Inicio</label>
                <div class="col-sm-3">
                    <input type="date" class="form-control col-sm-3" id="txtFechaInicio" />
                </div>

            </div>
            <div class="col-xs-12 right">
                <label class="col-sm-2" for="txtFechaFin">Fecha Fin</label>
                <div class="col-sm-3">
                    <input type="date" class="form-control col-sm-3" id="txtFechaFin" />
                </div>
            </div>
            <div class="col-xs-12 right">
                <label class="col-sm-2" for="EstadoFiltro">Estado</label>
                <div class="col-sm-3">
                    <select class="form-control" id="EstadoFiltro" onchange="ListarSeries()">
                        <option value="0">Pendiente de Entrega</option>
                        <option value="1">Entregado Parcialmente</option>
                        <option value="2">Cerrado</option>
                    </select>
                </div>
            </div>
            <div class="col-xs-12 right">
                <label class="col-sm-2" for="cboSeries">N° Devolucion</label>
                <div class="col-sm-3">
                    <select class="form-control" id="cboSeries" onchange="ConsultaServidor()">
                    </select>
                </div>
                <button class="btn btn-primary" style="margin-top:3px" onclick="ConsultaServidor()">Buscar</button>
            </div>
        </div>
    </div>
    <div class="panel">
        <div class="container-fluid" id="SolicitudesCard">

            @*  <div class="panel" style="background-color:aliceblue">
            <div class="row">
            <label class="col-md-2" style="max-width:130px">Serie y Número:</label>
            <p class="col-md-1">"SD-9"</p>
            <label class="col-md-2" style="max-width:70px">Fecha:</label>
            <p class="col-md-1">"2023-07-10"</p>
            <label for="cboAlmacen" class="col-md-1">Almacen:</label>
            <div class="col-md-4" style="margin-top:-3px">
            <select id="cboAlmacen" class="form-control"></select>
            </div>
            <button class="btn btn-primary" style="margin-top:0px">Agregar Artículo</button>
            </div>
            <div class="row">
            <label class="col-md-2" style="max-width:130px">Centro de Costo:</label>
            <p class="col-md-5">"RED DE AGUA POTABLE Y CONEXIONES DE EDIFICIO MULTI"</p>
            <label for="cboResponsable" class="col-md-2" style="max-width:130px">Entregado A:</label>
            <div class="col-md-4" style="margin-top:-3px">
            <select id="cboResponsable" class="form-control"></select>
            </div>
            </div>
            <div class="row">
            <table id="table_id" class="table" style="width:100%">
            <thead>
            <tr>
            <th>#</th>
            <th>Articulo</th>
            <th style="max-width:60px">Cantidad Solicitada</th>
            <th style="max-width:60px">Cantidad Atendida</th>
            <th style="max-width:60px">Cantidad A Atender</th>
            <th style="max-width:60px">Stock</th>
            </tr>
            </thead>
            <tbody id="tbody_Solicitudes"></tbody>
            </table>
            </div>
            </div>
            <br />*@

        </div>
    </div>
    <!-- Modal -->
    <div id="modal-form" class="popup-sm allcp-form mfp-with-anim mfp-hide">
        <div class="panel">
            <div class="panel-heading">
                <h5 id='lblTituloModal'></h5>
            </div>
            <div class="panel-body ">
                <div class='col s12 m12 '>
                    <div class='container-fluid'>
                        <input id='txtId' name="txtId" type='hidden' class="form-control input-sm">
                        <div class='form-horizontal'>
                            <div class="row" style="display:none">
                                <div class="col-md-10">
                                    <input class="form-control" id="txtIdFila" type="number" />
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-md-2">Articulo</label>
                                <div class="col-md-10">
                                    <Select id="cboAgregarArticulo" class="form-control" onchange="obtenerStockUnitario()"></Select>
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-md-2">Stock</label>
                                <div class="col-md-10">
                                    <input id="StockNuevoU" class="form-control" type="number" disabled readonly />
                                </div>
                            </div>
                            <div class="row" style="display:none">
                                <label class="col-md-2">Nombre</label>
                                <div class="col-md-10">
                                    <input id="NombreCrear" class="form-control" type="text" disabled readonly />
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-md-2">Cantidad</label>
                                <div class="col-md-10">
                                    <input id="cantidadNuevo" class="form-control" type="number" />
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <div class="panel-footer text-right">
                <div class="row">
                    <button type="button" class="btn btn-danger pull-right" onclick="agregarItemDetalle()" data-dismiss="modal">Agregar</button>
                    <button type="button" class="btn btn-danger pull-right" style="background-color:orange;" data-dismiss="modal" onclick="closePopup()">Cerrar</button>
                </div>
            </div>
        </div>
    </div>


</div>


@{
    Random rnd = new Random();
}



<script src="~/Scripts/DevolucionAdm/Listado.js?v=@rnd.Next(1, 1000 + 1)"></script>
<script src="~/Scripts/General.js"></script>
<script src="~/js/pdf/jspdf.min.js"></script>
<script src="~/js/pdf/faker.min.js"></script>
<script src="~/js/pdf/jspdf.plugin.autotable.src.js"></script>


